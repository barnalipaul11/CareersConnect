const onSubmit = async (values) => {
  console.log("Form Submitted with values:", values);
  console.log("User ID:", userId);

  if (!userId) {
    showToast("error", "User ID is not available.");
    return; // Prevent further submission
  }

  try {
    const interviewData = {
      ...values,
      author: userId, // Make sure author is set to userId
      interviewDate: new Date().toISOString(), // Current date
    };

    console.log("Interview Data being sent to the server:", interviewData);

    const response = await fetch(`${getEnv("VITE_API_BASE_URL")}/interviews/create`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify(interviewData),
    });

    const data = await response.json();
    console.log("API Response:", data);

    if (!response.ok) {
      showToast("error", data.message || "Failed to create the interview.");
      return;
    }

    showToast("success", data.message || "Interview created successfully.");
    interviewForm.reset();
    navigate("/interviews"); // Redirect to interviews page
  } catch (error) {
    console.error("Error during form submission:", error);
    showToast("error", error.message || "Something went wrong during submission.");
  }
};
